---
title: "Lab3"
author: "Bin Lin"
date: "2016-9-23"
output: html_document
---

```{r, eval=TRUE}
download.file("http://www.openintro.org/stat/data/bdims.RData", destfile = "bdims.RData")
load("bdims.RData")
head(bdims)
mdims <- subset(bdims, sex == 1)
fdims <- subset(bdims, sex == 0)
```


Excercise 1: Make a histogram of men's heights and a histogram of women's heights. How would you compare the various aspects of the two distributions?

```{r}
hist(mdims$hgt)
hist(fdims$hgt)
```
Both figures are bell-shaped with just one peak. But the peak for the male is more towards the center, while for female the peak is more widely spread. 


Exercise 2: Based on the this plot, does it appear that the data follow a nearly normal distribution?
```{r}
fhgtmean <- mean(fdims$hgt)
fhgtsd   <- sd(fdims$hgt)
hist(fdims$hgt, probability = TRUE, ylim = c(0, 0.06))
x <- 140:190
y <- dnorm(x = x, mean = fhgtmean, sd = fhgtsd)
lines(x = x, y = y, col = "blue")
```
According to this graph, the distribution of women's height is closed to normal, but not quite as the peak appears to be flatter. 


Exercise 3: Make a normal probability plot of sim_norm. Do all of the points fall on the line? How does this plot compare to the probability plot for the real data
```{r}
sim_norm <- rnorm(n = length(fdims$hgt), mean = fhgtmean, sd = fhgtsd)
qqnorm(fdims$hgt, main = "Actual Data")
qqline(fdims$hgt)
qqnorm(sim_norm, main = "Simmulated Data")
qqline(sim_norm)
qqnormsim(fdims$hgt)

```
For the simmulated data, all most all points dall on the line and the line appear to be more smooth compare to that of actual data. However, even for the simmulated data, the tail is also appear to be distant to the normal probability line. The same patten is shown on the actual data. 


Exercise 4: Does the normal probability plot for fdims$hgt look similar to the plots created for the simulated data? That is, do plots provide evidence that the female heights are nearly normal?

Yes, the normal probability plot for actual data is very similar to the simulated data. Therefore, female heights are nearly normally distributed. 


Exercise 5: Using the same technique, determine whether or not female weights appear to come from a normal distribution.
```{r}
fwgtmean <- mean(fdims$wgt)
fwgtsd   <- sd(fdims$wgt)
hist(fdims$wgt, probability = TRUE)
x <- 40:110
y <- dnorm(x = x, mean = fwgtmean, sd = fwgtsd)
lines(x = x, y = y, col = "blue")
qqnorm(fdims$wgt)
qqline(fdims$wgt)
sim_norm <- rnorm(n = length(fdims$wgt), mean = fwgtmean, sd = fwgtsd)
qqnorm(sim_norm)
qqline(sim_norm)
qqnormsim(fdims$wgt)
```
Based on the those curves I got, we can tell the normal probability plot for the actual weight data is pretty much linear and they falls mostly on the normal distribution line. It resembles all other figures that are generated by theretical normal distributed data. However, the actual data is little bit skewed to teh right as the curve bend up on right side. In addition to that, two points on the top right side looks like they are completely off the tract.  


Exercise 6: Write out two probability questions that you would like to answer; one regarding female heights and one regarding female weights. Calculate the those probabilities using both the theoretical normal distribution as well as the empirical distribution (four probabilities in all). Which variable, height or weight, had a closer agreement between the two methods?

A. What is the probability that female's height is above 180cm?
```{r}
sim_norm <- rnorm(n = length(fdims$hgt), mean = fhgtmean, sd = fhgtsd)
1 - pnorm(q = 180, mean = fhgtmean, sd = fhgtsd)
sum(fdims$hgt > 180) / length(fdims$hgt)
```
These two probabilities are quite closer to each other. Height has a much closer agreement between the two methods. 


B . What is the probability that female's weight is above 100kg?
```{r}
sim_norm <- rnorm(n = length(fdims$wgt), mean = fwgtmean, sd = fwgtsd)
1 - pnorm(q = 100, mean = fwgtmean, sd = fwgtsd)
sum(fdims$wgt > 100) / length(fdims$wgt)
```
The theretical probability is much higher than the actual probability. 


On Your Own
Now let's consider some of the other variables in the body dimensions data set. Using the figures at the end of the exercises, match the histogram to its normal probability plot. All of the variables have been standardized (first subtract the mean, then divide by the standard deviation), so the units won't be of any help. If you are uncertain based on these figures, generate the plots in R to check.

a. The histogram for female biiliac (pelvic) diameter (bii.di) belongs to normal probability plot letter B.

b. The histogram for female elbow diameter (elb.di) belongs to normal probability plot letter C.

c. The histogram for general age (age) belongs to normal probability plot letter D.

d. The histogram for female chest depth (che.de) belongs to normal probability plot letter A.

Note that normal probability plots C and D have a slight stepwise pattern. Why do you think this is the case?
It is likely due to the fact a lots of those measurement get round up. For example, for age most people will report integers rather than some numbers with decimal points. 


As you can see, normal probability plots can be used both to assess normality and visualize skewness. Make a normal probability plot for female knee diameter (kne.di). Based on this normal probability plot, is this variable left skewed, symmetric, or right skewed? Use a histogram to confirm your findings.

```{r}
qqnorm(fdims$kne.di)
qqline(fdims$kne.di)
hist(fdims$kne.di)
```
The normal probability plot is bend upward on the right side, therefore, it is right skewed. The histogram proves this patten.

